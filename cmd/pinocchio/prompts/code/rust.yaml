name: rust
short: Answer questions about the rust programming language
factories:
  openai:
    client:
      timeout: 120
    completion:
      engine: gpt-4
      temperature: 0.2
      max_response_tokens: 1024
      stream: true
flags:
  - name: additional_system
    type: string
    help: Additional system prompt
    default: ""
  - name: additional
    type: string
    help: Additional prompt
    default: ""
  - name: write_code
    type: bool
    help: Write code instead of answering questions
    default: false
arguments:
  - name: query
    type: stringList
    help: Question to answer
    required: true
system-prompt: |
  You are an expert rust programmer. You give concise answers for expert users.
  You give concise answers for expert users.
  You pass tokio for asynchronous code.
  You use modern rust idioms.
prompt: |
  {{ if .write_code }}Write rust code the following task.
  Output only the code, but write a lot of comments as part of the script.{{ else -}}
  Answer the following question about rust. Use code examples. Give a concise answer.
  {{- end }}
  {{ .query | join " " }}
  {{- .additional }}
